{% extends "base.html" %}

{% block title %}Task Form{% endblock %}

{% block content %}

<h2>{% if task %}Edit{% else %}Add{% endif %} Task</h2>

{% if error %}
<div class="alert alert-danger">
    {{ error }}
</div>
{% endif %}

<form method="post">
    {% csrf_token %}

    <div class="mb-3">
        <label class="form-label">Title</label>

        <input 
            type="text" 
            name="title" 
            class="form-control" 
            value="{{ task.title }}"
            required
        >
    </div>

    <div class="mb-3">
        <label class="form-label">Description</label>

        <textarea 
            name="description" 
            class="form-control" 
            rows="3"
            required
        >{{ task.description }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary">
        Save
    </button>

    <a 
        href="{% url 'todo_app:task_list' %}" 
        class="btn btn-secondary"
    >
        Cancel
    </a>

</form>

{% endblock %}
